<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Simulated Data | Bonsai.ML </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Simulated Data | Bonsai.ML ">
      
      
      <link rel="icon" href="../../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../docs/toc.html">
      
      <meta name="docfx:rel" content="../../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/bonsai-rx/machinelearning/blob/main/examples/LinearDynamicalSystems/Kinematics/SimulatedData/README.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../../index.html">
            <img id="logo" class="svg" src="../../../../../logo.svg" alt="Bonsai - ML">
            Bonsai - ML
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="simulated-data">Simulated Data</h1>

<p>The code for this repo can be found <a href="https://github.com/bonsai-rx/machinelearning-examples/tree/main/examples/LinearDynamicalSystems/Kinematics/SimulatedData">here</a>.</p>
<p>In the following example, you can find how the Kalman Filter can be used for kinematic inference using simulated data.</p>
<h3 id="dependencies">Dependencies</h3>
<p>If you used the bootstrapping method, you dont have to worry about the package dependencies, as these should be already installed. However, if creating a new environment or integrating into an existing one, you will need to install the following packages:</p>
<ul>
<li>Bonsai - Core v2.8.1</li>
<li>Bonsai - Design v2.8.0</li>
<li>Bonsai - Editor v2.8.0</li>
<li>Bonsai - ML v0.1.0</li>
<li>Bonsai - ML LinearDynamicalSystems v0.1.0</li>
<li>Bonsai - ML Visualizers v0.1.0</li>
<li>Bonsai - Numerics v0.9.0</li>
<li>Bonsai - Scripting v2.8.0</li>
<li>Bonsai - Scripting Python v0.2.0</li>
<li>Bonsai - System v2.8.0</li>
<li>Bonsai - Vision v2.8.1</li>
<li>Bonsai - Vision Design v2.8.0</li>
</ul>
<h3 id="workflow">Workflow</h3>
<p>Below is the workflow for running the Kalman Filter Kinematics model on simulated data.</p>
<div class="workflow"><p><img src="Simulation.bonsai" alt="Kinematics - Simulated Data"></p>
</div>
<p>In this example, we created a Kalman Filter for infering kinematics from simulated data. We created a property called <code>SamplingFrequency</code> which dictates both the time step parameter of our model and also determines the rate at which the new simulated data values are generated.</p>
<p>At each time step, the <code>Timer</code> inside the <code>SimulatedData</code> group workflow emits a new value which increments by 1. This value is then transformed by the <code>Sin</code> and <code>Cos</code> functions to generate points along the circumference of a circle. Noise is added to the values by sampling from a normal distribution and the output of this gets scaled and transformed to map onto pixel coordinates in an image of size 500 x 500. These values are then converted into observations that are then passed to the model to perform inference.</p>
<p>To see the inferred kinematics of the model, double click on the <code>SimulatedDataVisualizer</code> node at the bottom of the workflow while it is running to open up the visualizer. On the left, you should see the inferred position, velocity and acceleration (top to bottom), with the ability to select which state component (X or Y) you want to visualize from the dropdown menu on the top right corner of the graph. Both the mean (dark blue) and variance (light blue shading) of the inferred state component are visualized. On the right, you should see an image representing the location of each new observation (blue) along with the inferred position of the model over time (red).</p>
<p>The window should look similar to this:</p>
<p><img src="Simulation.gif" alt="Simulation"></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/bonsai-rx/machinelearning/blob/main/examples/LinearDynamicalSystems/Kinematics/SimulatedData/README.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          &copy; 2024 Bonsai Foundation CIC and Contributors. Made with <a href="https://dotnet.github.io/docfx">docfx</a>
        </div>
      </div>
    </footer>
  </body>
</html>
